<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farming Hub</title>
    <!-- Tailwind CSS is loaded from a CDN for a modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles to define a consistent, clean font and a background color */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0fdf4; /* A light, fresh green for a farming theme */
        }
        
        /* Utility for consistent container width and spacing */
        .container {
            max-width: 1200px;
            margin: auto;
            padding: 2rem 1rem;
        }

        /* Styling for the recipe cards with subtle animations */
        .recipe-card {
            background-color: #ffffff; /* Use a solid white background for the recipe cards */
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            opacity: 0; /* Initially hidden for staggered animation */
            transform: translateY(20px);
            animation: card-appear 0.6s ease-out forwards;
            position: relative;
            overflow: hidden;
        }
        
        /* Pop-up effect on hover */
        .recipe-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        /* Keyframes for the card appearance animation */
        @keyframes card-appear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Basic styling for section management */
        .section {
            display: none; /* Hide all sections by default */
            animation: fadeIn 0.8s ease-in-out;
        }
        .section.active {
            display: block; /* Show the active section */
        }

        /* Fade-in animation for page transitions */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Styling for the Home section with a vibrant image background */
        #home-section {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            background-image: url('https://images.pexels.com/photos/2165688/pexels-photo-2165688.jpeg?cs=srgb&dl=pexels-quang-nguyen-vinh-222549-2165688.jpg&fm=jpg');
            background-size: cover;
            background-position: center;
        }

        /* Responsive navigation menu styling */
        .nav-links {
            display: flex;
            gap: 1.5rem; /* Equivalent to space-x-6 in Tailwind */
        }

        /* Responsive design for mobile navigation */
        @media (max-width: 768px) {
            .nav-links {
                display: none; /* Hide nav links on smaller screens by default */
                flex-direction: column;
                position: absolute;
                top: 60px;
                left: 0;
                width: 100%;
                background-color: white;
                padding: 1rem;
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            }
            .nav-links.active {
                display: flex; /* Show nav links when menu is toggled */
            }
        }

        /* Active link styling */
        .nav-links a.active {
            color: #166534; /* Darker green for active link */
            border-bottom: 2px solid #166534;
        }
        
        /* Button press animation */
        .btn-press:active {
            transform: scale(0.95);
        }

        /* Result box animation */
        .result-box.show {
            animation: slide-down 0.5s ease-out forwards;
        }

        @keyframes slide-down {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Admin Theme styles */
        .admin-theme {
            background-color: #1f2937; /* Gray-800 */
            color: #d1d5db; /* Gray-300 */
        }
        .admin-theme .nav-link-admin, .admin-theme .nav-link-admin.active {
            color: #f9fafb; /* Gray-50 */
            border-bottom: 2px solid #f9fafb;
        }
        .admin-card {
            background-color: #374151; /* Gray-700 */
            color: #f9fafb; /* Gray-50 */
        }
        .admin-input {
            background-color: #4b5563; /* Gray-600 */
            color: #f9fafb;
            border-color: #6b7280;
        }
        .admin-button {
            background-color: #6b7280; /* Gray-500 */
            color: #f9fafb;
        }

        /* Login UI Styles */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .login-card {
            background: linear-gradient(135deg, #f0fdf4 0%, #d1f7e0 100%);
            border-radius: 1.5rem;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
            padding: 2.5rem;
            max-width: 400px;
            width: 90%;
            transition: all 0.5s ease-in-out;
            transform: scale(1);
        }
        .login-card.hidden {
            transform: scale(0.95);
            opacity: 0;
            display: none;
        }
        .login-card.active {
            display: block;
        }
    </style>
    <!-- Firebase Libraries -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithCustomToken, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, collection, getDocs, addDoc, deleteDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDhOG6mUIYzRRxgrINmP-sef_Z3jufqauw",
          authDomain: "farminghubsaksham.firebaseapp.com",
          projectId: "farminghubsaksham",
          storageBucket: "farminghubsaksham.firebasestorage.app",
          messagingSenderId: "361791915485",
          appId: "1:361791915485:web:b097bed6af1319d14ea234",
          measurementId: "G-27EF1PBHJ3"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        // Expose Firebase objects to the global scope for other scripts
        window.firebase = { auth, db };

        // Handle authentication state changes
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // User is signed in, fetch their role
                const userDoc = await getDoc(doc(db, "users", user.uid));
                const userData = userDoc.exists() ? userDoc.data() : { role: 'user' }; // Default role
                
                // Store user and role in the global scope
                window.currentUser = { uid: user.uid, email: user.email, role: userData.role };
                
                // Update UI based on logged-in state and user role
                document.getElementById('login-section').classList.remove('active');
                document.getElementById('main-app-content').classList.remove('hidden');
                document.getElementById('nav-menu').classList.remove('hidden');
                document.getElementById('nav-login').classList.add('hidden');
                document.getElementById('nav-logout').classList.remove('hidden');

                if (userData.role === 'admin') {
                    // Admin UI setup
                    document.body.classList.add('admin-theme');
                    document.getElementById('admin-nav-link').classList.remove('hidden');
                } else {
                    // Regular user UI setup
                    document.body.classList.remove('admin-theme');
                    document.getElementById('admin-nav-link').classList.add('hidden');
                }

                showSection('home-section');

            } else {
                // User is signed out
                window.currentUser = null;
                document.getElementById('login-section').classList.add('active');
                document.getElementById('main-app-content').classList.add('hidden');
                document.getElementById('nav-menu').classList.add('hidden');
                document.getElementById('nav-login').classList.remove('hidden');
                document.getElementById('nav-logout').classList.add('hidden');
                document.getElementById('admin-nav-link').classList.add('hidden');
            }
        });
        
    </script>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Navigation Bar -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center flex-wrap md:flex-nowrap">
            <a href="#" class="text-3xl font-bold text-green-700 transition-colors duration-300 hover:text-green-500" onclick="showSection('home-section')">üå± Farming Hub</a>
            
            <!-- Language Selector and Hamburger Menu -->
            <div class="flex items-center space-x-4">
                <select id="language-selector" class="p-2 rounded-md border border-gray-300 bg-white" onchange="setLanguage(this.value)">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                </select>
                <button class="md:hidden text-gray-600 focus:outline-none" onclick="toggleNav()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Navigation links and Login/Logout -->
            <div id="nav-menu" class="nav-links hidden">
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="home-section" data-key="nav_home" onclick="showSection('home-section')">Home</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="recipes-section" data-key="nav_recipes" onclick="showSection('recipes-section')">Recipes</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="tools-section" data-key="nav_tools" onclick="showSection('tools-section')">Tools</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="reviews-section" data-key="nav_reviews" onclick="showSection('reviews-section')">Reviews</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full hidden" data-section="admin-section" id="admin-nav-link" data-key="nav_admin" onclick="showSection('admin-section')">Admin</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="chatbot-section" data-key="nav_chatbot" onclick="showSection('chatbot-section')">Chat Bot</a>
                <button id="nav-logout" onclick="userLogout()" class="text-white bg-red-600 hover:bg-red-700 transition-colors duration-300 font-semibold py-2 px-4 rounded-full ml-4" data-key="nav_logout">Logout</button>
            </div>
             <a href="#" id="nav-login" class="text-white bg-green-600 hover:bg-green-700 transition-colors duration-300 font-semibold py-2 px-4 rounded-full hidden" data-key="nav_login" onclick="showSection('login-section')">Login / Sign Up</a>
        </div>
    </nav>

    <!-- Login Section -->
    <div id="login-section" class="login-container section active">
        <div id="login-card" class="login-card">
            <h1 id="login-title" class="text-3xl font-bold text-center text-green-700 mb-6" data-key="login_title">Login / Sign Up</h1>
            <p id="auth-message" class="text-red-500 text-center mb-4 hidden"></p>

            <!-- Login/Sign Up Form -->
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="login-email" class="block text-sm font-medium text-gray-700" data-key="login_email_label">Email</label>
                    <input type="email" id="login-email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50">
                </div>
                <div>
                    <label for="login-password" class="block text-sm font-medium text-gray-700" data-key="login_password_label">Password</label>
                    <input type="password" id="login-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50">
                </div>
                <button type="submit" id="login-button" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="login_button">Login</button>
            </form>
            
            <p id="login-switch-text" class="text-center text-gray-500 mt-4" data-key="login_switch_text">Don't have an account? <a href="#" class="text-green-600 hover:underline" onclick="toggleForm()">Sign up</a></p>
            <p id="admin-switch-link" class="text-center text-gray-500 mt-4" data-key="login_admin_text">Admin login? <a href="#" class="text-green-600 hover:underline" onclick="showAdminLogin()">Click here</a></p>
        </div>
        
    </div>
    
    <!-- Admin Login Form (Hidden by default) -->
    <div id="admin-login-section" class="login-container section hidden admin-theme">
        <div id="admin-login-card" class="admin-card p-8 rounded-xl shadow-lg">
            <h2 id="admin-title" class="text-xl font-bold text-center text-gray-50 mb-6" data-key="admin_title">Admin Login</h2>
            <p id="admin-auth-message" class="text-red-500 text-center mb-4 hidden"></p>
            <form id="admin-form" class="space-y-4">
                <div>
                    <label for="admin-email" class="block text-sm font-medium text-gray-300" data-key="login_email_label">Email</label>
                    <input type="email" id="admin-email" class="mt-1 block w-full rounded-md border-gray-600 bg-gray-700 shadow-sm focus:border-gray-500 focus:ring focus:ring-gray-500 focus:ring-opacity-50 text-gray-50">
                </div>
                <div>
                    <label for="admin-password" class="block text-sm font-medium text-gray-300" data-key="login_password_label">Password</label>
                    <input type="password" id="admin-password" class="mt-1 block w-full rounded-md border-gray-600 bg-gray-700 shadow-sm focus:border-gray-500 focus:ring focus:ring-gray-500 focus:ring-opacity-50 text-gray-50">
                </div>
                <button type="submit" id="admin-button" class="w-full bg-gray-600 text-gray-50 py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_button">Admin Login</button>
                <p id="admin-login-switch" class="text-center text-gray-300 mt-4" data-key="admin_switch_text">Go back to <a href="#" class="text-white hover:underline" onclick="showSection('login-section')">user login</a></p>
            </form>
        </div>
    </div>

    <!-- Main Content (Hidden until logged in) -->
    <div id="main-app-content" class="hidden">
        <!-- Home Section with a vibrant image background -->
        <div id="home-section" class="section text-center">
            <!-- Content container placed over the image -->
            <div class="relative z-10 bg-white bg-opacity-70 rounded-xl p-8 md:p-12 max-w-sm md:max-w-xl mx-auto shadow-lg">
                <h1 class="text-4xl md:text-5xl font-extrabold text-green-800 mb-4" data-key="home_title">Welcome to Farming Hub</h1>
                <p class="text-md md:text-lg text-gray-700" data-key="home_subtitle">Your one-stop destination for organic farming knowledge, sustainable practices, and community support.</p>
            </div>
        </div>

        <!-- Organic Pesticide Recipes Section (Index) -->
        <div id="recipes-section" class="section">
            <div class="container mx-auto">
                <header class="text-center py-8">
                    <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-2" data-key="recipes_title">Organic Pesticide Recipes</h1>
                    <p class="text-gray-600 text-sm md:text-base" data-key="recipes_subtitle">Discover natural, homemade solutions for common garden pests.</p>
                </header>
                <div class="search-box text-center mb-8">
                    <input type="text" id="search" placeholder="Search by name, target, or crop..." oninput="filterRecipes()" class="w-full max-w-lg p-3 rounded-full border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-300">
                </div>
                <!-- Recipe cards grid that adjusts for different screen sizes -->
                <div id="recipe-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
        </div>


        <!-- Tools Section -->
        <div id="tools-section" class="section">
            <div class="container mx-auto text-center py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-4" data-key="tools_title">Farming Tools & Calculators</h1>
                <p class="text-gray-600 mb-8 text-sm md:text-base" data-key="tools_subtitle">Use our interactive tools to plan your farming activities efficiently.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Sowing Seeds Calculator -->
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-bold text-green-600 mb-4" data-key="calc_seeds_title">Sowing Seeds Calculator</h2>
                        <div class="space-y-4 text-left">
                            <div>
                                <label for="land-size-seeds" class="block text-gray-700 font-semibold mb-1" data-key="calc_seeds_label1">Land Size (in acres)</label>
                                <input type="number" id="land-size-seeds" value="1" min="0.1" step="0.1" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label for="seed-type" class="block text-gray-700 font-semibold mb-1" data-key="calc_seeds_label2">Seed Type</label>
                                <select id="seed-type" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                                    <option value="groundnut" data-key="seed_type_groundnut">Groundnut</option>
                                    <option value="corn" data-key="seed_type_corn">Corn</option>
                                    <option value="rice" data-key="seed_type_rice">Rice</option>
                                    <option value="wheat" data-key="seed_type_wheat">Wheat</option>
                                </select>
                            </div>
                            <button onclick="calculateSeeds()" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="calc_seeds_button">Calculate Seeds</button>
                        </div>
                        <div id="seed-result" class="mt-4 p-4 bg-green-50 rounded-lg text-green-800 font-medium hidden"></div>
                    </div>

                    <!-- Spreading Pesticides Calculator -->
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-bold text-green-600 mb-4" data-key="calc_pesticides_title">Pesticides Spreading Calculator</h2>
                        <div class="space-y-4 text-left">
                            <div>
                                <label for="land-size-pesticide" class="block text-gray-700 font-semibold mb-1" data-key="calc_pesticides_label1">Land Size (in acres)</label>
                                <input type="number" id="land-size-pesticide" value="1" min="0.1" step="0.1" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label for="pesticide-type" class="block text-gray-700 font-semibold mb-1" data-key="calc_pesticides_label2">Pesticide Type</label>
                                <select id="pesticide-type" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                                    <option value="neem-oil" data-key="pesticide_type_neem">Neem Oil Emulsion</option>
                                    <option value="garlic-chilli" data-key="pesticide_type_garlic">Garlic-Chilli Spray</option>
                                    <option value="tobacco" data-key="pesticide_type_tobacco">Tobacco Decoction</option>
                                </select>
                            </div>
                            <button onclick="calculatePesticides()" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="calc_pesticides_button">Calculate Pesticides</button>
                        </div>
                        <div id="pesticide-result" class="mt-4 p-4 bg-green-50 rounded-lg text-green-800 font-medium hidden"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reviews/Feedback Section -->
        <div id="reviews-section" class="section">
            <div class="container mx-auto py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-center text-green-700 mb-8" data-key="reviews_title">Customer Reviews</h1>
                <div id="reviews-container" class="grid grid-cols-1 md:grid-cols-2 gap-8"></div>
                <div class="mt-8 p-6 bg-white rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-green-600 mb-4" data-key="review_form_title">Leave a Review</h2>
                    <form id="review-form" class="space-y-4">
                        <div>
                            <label for="review-text" class="block text-sm font-medium text-gray-700" data-key="review_label">Your Review</label>
                            <textarea id="review-text" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="review_button">Submit Review</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard Section -->
        <div id="admin-section" class="section admin-theme">
            <div class="container mx-auto py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-center text-gray-50 mb-8" data-key="admin_dashboard_title">Admin Dashboard</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                    <!-- Manage Recipes -->
                    <div class="admin-card p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-bold mb-4" data-key="admin_recipes_title">Manage Recipes</h2>
                        <form id="admin-recipe-form" class="space-y-4">
                            <div>
                                <label for="recipe-id" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_id_label">Recipe ID (for update/delete)</label>
                                <input type="text" id="recipe-id" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-name-en" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_name_label">Recipe Name (EN)</label>
                                <input type="text" id="recipe-name-en" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-name-hi" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_name_label">Recipe Name (HI)</label>
                                <input type="text" id="recipe-name-hi" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-name-mr" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_name_label">Recipe Name (MR)</label>
                                <input type="text" id="recipe-name-mr" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-targets-en" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_targets_label">Targets (comma-separated, EN)</label>
                                <input type="text" id="recipe-targets-en" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-targets-hi" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_targets_label">Targets (comma-separated, HI)</label>
                                <input type="text" id="recipe-targets-hi" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-targets-mr" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_targets_label">Targets (comma-separated, MR)</label>
                                <input type="text" id="recipe-targets-mr" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-cost" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_cost_label">Approximate Cost (‚Çπ)</label>
                                <input type="number" id="recipe-cost" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-where-en" class="block text-sm font-medium text-gray-300">Where to Use (EN)</label>
                                <input type="text" id="recipe-where-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-where-hi" class="block text-sm font-medium text-gray-300">Where to Use (HI)</label>
                                <input type="text" id="recipe-where-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-where-mr" class="block text-sm font-medium text-gray-300">Where to Use (MR)</label>
                                <input type="text" id="recipe-where-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-ingredients-en" class="block text-sm font-medium text-gray-300">Ingredients (EN)</label>
                                <input type="text" id="recipe-ingredients-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-ingredients-hi" class="block text-sm font-medium text-gray-300">Ingredients (HI)</label>
                                <input type="text" id="recipe-ingredients-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-ingredients-mr" class="block text-sm font-medium text-gray-300">Ingredients (MR)</label>
                                <input type="text" id="recipe-ingredients-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-procedure-en" class="block text-sm font-medium text-gray-300">Procedure (EN)</label>
                                <input type="text" id="recipe-procedure-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-procedure-hi" class="block text-sm font-medium text-gray-300">Procedure (HI)</label>
                                <input type="text" id="recipe-procedure-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-procedure-mr" class="block text-sm font-medium text-gray-300">Procedure (MR)</label>
                                <input type="text" id="recipe-procedure-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-usage-en" class="block text-sm font-medium text-gray-300">How to Use (EN)</label>
                                <input type="text" id="recipe-usage-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-usage-hi" class="block text-sm font-medium text-gray-300">How to Use (HI)</label>
                                <input type="text" id="recipe-usage-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-usage-mr" class="block text-sm font-medium text-gray-300">How to Use (MR)</label>
                                <input type="text" id="recipe-usage-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div class="flex space-x-4">
                                <button type="submit" onclick="addUpdateRecipe(event)" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_add_recipe">Add/Update</button>
                                <button type="button" onclick="deleteRecipe(event)" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_delete_recipe">Delete</button>
                            </div>
                        </form>
                    </div>

                    <!-- Manage Calculator Data -->
                    <div class="admin-card p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-bold mb-4" data-key="admin_calc_title">Manage Calculator Data</h2>
                        <form id="admin-calc-form" class="space-y-4">
                            <div>
                                <label for="calc-type-select" class="block text-sm font-medium text-gray-300" data-key="admin_calc_type_label">Type</label>
                                <select id="calc-type-select" class="mt-1 block w-full rounded-md admin-input">
                                    <option value="seed">Seed Type</option>
                                    <option value="pesticide">Pesticide Type</option>
                                </select>
                            </div>
                            <div>
                                <label for="calc-key" class="block text-sm font-medium text-gray-300" data-key="admin_calc_key_label">Key (e.g., 'corn')</label>
                                <input type="text" id="calc-key" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="calc-name-en" class="block text-sm font-medium text-gray-300" data-key="admin_calc_name_label">Name (EN)</label>
                                <input type="text" id="calc-name-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="calc-name-hi" class="block text-sm font-medium text-gray-300" data-key="admin_calc_name_label">Name (HI)</label>
                                <input type="text" id="calc-name-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="calc-name-mr" class="block text-sm font-medium text-gray-300" data-key="admin_calc_name_label">Name (MR)</label>
                                <input type="text" id="calc-name-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="calc-amount" class="block text-sm font-medium text-gray-300" data-key="admin_calc_amount_label">Amount (kg or L)</label>
                                <input type="number" id="calc-amount" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div class="flex space-x-4">
                                <button type="button" onclick="addUpdateCalcData()" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_add_calc">Add/Update</button>
                                <button type="button" onclick="deleteCalcData()" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_delete_calc">Delete</button>
                            </div>
                        </form>
                    </div>

                    <!-- Manage Reviews -->
                    <div class="admin-card p-6 rounded-lg shadow-md md:col-span-2">
                        <h2 class="text-2xl font-bold mb-4" data-key="admin_reviews_title">Manage Reviews</h2>
                        <div id="admin-reviews-list" class="space-y-4">
                            <!-- Reviews will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Bot Section -->
        <div id="chatbot-section" class="section">
            <div class="container mx-auto text-center py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-4" data-key="chatbot_title">Farming Assistant Chat Bot</h1>
                <p class="text-gray-600 mb-8 text-sm md:text-base" data-key="chatbot_subtitle">Ask our AI assistant for advice on pests, recipes, or general farming tips.</p>
                <div class="max-w-lg mx-auto bg-white p-6 rounded-lg shadow-xl">
                    <div id="chatbot-messages" class="h-64 overflow-y-auto mb-4 border rounded-lg p-4 bg-gray-50">
                        <p class="text-left text-gray-500" data-key="chatbot_initial_msg">Hello! I'm your farming assistant. How can I help you today?</p>
                    </div>
                    <!-- Chatbot 'is typing' indicator -->
                    <div class="flex mt-4">
                        <input type="text" id="chatbot-input" placeholder="Type your question here..." class="flex-grow p-3 rounded-l-full border border-gray-300 focus:outline-none">
                        <button onclick="sendMessage()" class="bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="chatbot_send_btn">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="bg-gray-800 text-white text-center py-6">
            <p data-key="footer_text">¬© 2025 Farming Hub. All rights reserved. Made by Saksham Bhor | Email: <a href="mailto:sakshambhor@gmail.com" class="text-green-400 hover:text-green-300 transition-colors duration-300">sakshambhor@gmail.com</a></p>
        </footer>
    </div>

    <script type="module">
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, collection, onSnapshot, getDocs, addDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDhOG6mUIYzRRxgrINmP-sef_Z3jufqauw",
          authDomain: "farminghubsaksham.firebaseapp.com",
          projectId: "farminghubsaksham",
          storageBucket: "farminghubsaksham.firebasestorage.app",
          messagingSenderId: "361791915485",
          appId: "1:361791915485:web:b097bed6af1319d14ea234",
          measurementId: "G-27EF1PBHJ3"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        // Expose Firebase objects to the global scope for other scripts
        window.firebase = { auth, db };

        // Handle authentication state changes
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // User is signed in, fetch their role
                const userDoc = await getDoc(doc(db, "users", user.uid));
                const userData = userDoc.exists() ? userDoc.data() : { role: 'user' }; // Default role
                
                // Store user and role in the global scope
                window.currentUser = { uid: user.uid, email: user.email, role: userData.role };
                
                // Update UI based on logged-in state and user role
                document.getElementById('login-section').classList.remove('active');
                document.getElementById('main-app-content').classList.remove('hidden');
                document.getElementById('nav-menu').classList.remove('hidden');
                document.getElementById('nav-login').classList.add('hidden');
                document.getElementById('nav-logout').classList.remove('hidden');
                document.getElementById('admin-login-section').classList.add('hidden');

                if (userData.role === 'admin') {
                    // Admin UI setup
                    document.body.classList.add('admin-theme');
                    document.getElementById('admin-nav-link').classList.remove('hidden');
                } else {
                    // Regular user UI setup
                    document.body.classList.remove('admin-theme');
                    document.getElementById('admin-nav-link').classList.add('hidden');
                }

                showSection('home-section');

            } else {
                // User is signed out
                window.currentUser = null;
                document.getElementById('login-section').classList.add('active');
                document.getElementById('main-app-content').classList.add('hidden');
                document.getElementById('nav-menu').classList.add('hidden');
                document.getElementById('nav-login').classList.remove('hidden');
                document.getElementById('nav-logout').classList.add('hidden');
                document.getElementById('admin-nav-link').classList.add('hidden');
            }
        });
        
    </script>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Navigation Bar -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center flex-wrap md:flex-nowrap">
            <a href="#" class="text-3xl font-bold text-green-700 transition-colors duration-300 hover:text-green-500" onclick="showSection('home-section')">üå± Farming Hub</a>
            
            <!-- Language Selector and Hamburger Menu -->
            <div class="flex items-center space-x-4">
                <select id="language-selector" class="p-2 rounded-md border border-gray-300 bg-white" onchange="setLanguage(this.value)">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                </select>
                <button class="md:hidden text-gray-600 focus:outline-none" onclick="toggleNav()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Navigation links and Login/Logout -->
            <div id="nav-menu" class="nav-links hidden">
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="home-section" data-key="nav_home" onclick="showSection('home-section')">Home</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="recipes-section" data-key="nav_recipes" onclick="showSection('recipes-section')">Recipes</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="tools-section" data-key="nav_tools" onclick="showSection('tools-section')">Tools</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="reviews-section" data-key="nav_reviews" onclick="showSection('reviews-section')">Reviews</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full hidden" data-section="admin-section" id="admin-nav-link" data-key="nav_admin" onclick="showSection('admin-section')">Admin</a>
                <a href="#" class="text-gray-600 hover:text-green-500 transition-colors duration-300 font-semibold py-2 px-4 rounded-full" data-section="chatbot-section" data-key="nav_chatbot" onclick="showSection('chatbot-section')">Chat Bot</a>
                <button id="nav-logout" onclick="userLogout()" class="text-white bg-red-600 hover:bg-red-700 transition-colors duration-300 font-semibold py-2 px-4 rounded-full ml-4" data-key="nav_logout">Logout</button>
            </div>
             <a href="#" id="nav-login" class="text-white bg-green-600 hover:bg-green-700 transition-colors duration-300 font-semibold py-2 px-4 rounded-full hidden" data-key="nav_login" onclick="showSection('login-section')">Login / Sign Up</a>
        </div>
    </nav>

    <!-- Login Section -->
    <div id="login-section" class="login-container section active">
        <div id="login-card" class="login-card">
            <h1 id="login-title" class="text-3xl font-bold text-center text-green-700 mb-6" data-key="login_title">Login / Sign Up</h1>
            <p id="auth-message" class="text-red-500 text-center mb-4 hidden"></p>

            <!-- Login/Sign Up Form -->
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="login-email" class="block text-sm font-medium text-gray-700" data-key="login_email_label">Email</label>
                    <input type="email" id="login-email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50">
                </div>
                <div>
                    <label for="login-password" class="block text-sm font-medium text-gray-700" data-key="login_password_label">Password</label>
                    <input type="password" id="login-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50">
                </div>
                <button type="submit" id="login-button" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="login_button">Login</button>
            </form>
            
            <p id="login-switch-text" class="text-center text-gray-500 mt-4" data-key="login_switch_text">Don't have an account? <a href="#" class="text-green-600 hover:underline" onclick="toggleForm()">Sign up</a></p>
            <p id="admin-switch-link" class="text-center text-gray-500 mt-4" data-key="login_admin_text">Admin login? <a href="#" class="text-green-600 hover:underline" onclick="showAdminLogin()">Click here</a></p>
        </div>
        
    </div>
    
    <!-- Admin Login Form (Hidden by default) -->
    <div id="admin-login-section" class="login-container section hidden admin-theme">
        <div id="admin-login-card" class="admin-card p-8 rounded-xl shadow-lg">
            <h2 id="admin-title" class="text-xl font-bold text-center text-gray-50 mb-6" data-key="admin_title">Admin Login</h2>
            <p id="admin-auth-message" class="text-red-500 text-center mb-4 hidden"></p>
            <form id="admin-form" class="space-y-4">
                <div>
                    <label for="admin-email" class="block text-sm font-medium text-gray-300" data-key="login_email_label">Email</label>
                    <input type="email" id="admin-email" class="mt-1 block w-full rounded-md border-gray-600 bg-gray-700 shadow-sm focus:border-gray-500 focus:ring focus:ring-gray-500 focus:ring-opacity-50 text-gray-50">
                </div>
                <div>
                    <label for="admin-password" class="block text-sm font-medium text-gray-300" data-key="login_password_label">Password</label>
                    <input type="password" id="admin-password" class="mt-1 block w-full rounded-md border-gray-600 bg-gray-700 shadow-sm focus:border-gray-500 focus:ring focus:ring-gray-500 focus:ring-opacity-50 text-gray-50">
                </div>
                <button type="submit" id="admin-button" class="w-full bg-gray-600 text-gray-50 py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_button">Admin Login</button>
                <p id="admin-login-switch" class="text-center text-gray-300 mt-4" data-key="admin_switch_text">Go back to <a href="#" class="text-white hover:underline" onclick="showSection('login-section')">user login</a></p>
            </form>
        </div>
    </div>

    <!-- Main Content (Hidden until logged in) -->
    <div id="main-app-content" class="hidden">
        <!-- Home Section with a vibrant image background -->
        <div id="home-section" class="section text-center">
            <!-- Content container placed over the image -->
            <div class="relative z-10 bg-white bg-opacity-70 rounded-xl p-8 md:p-12 max-w-sm md:max-w-xl mx-auto shadow-lg">
                <h1 class="text-4xl md:text-5xl font-extrabold text-green-800 mb-4" data-key="home_title">Welcome to Farming Hub</h1>
                <p class="text-md md:text-lg text-gray-700" data-key="home_subtitle">Your one-stop destination for organic farming knowledge, sustainable practices, and community support.</p>
            </div>
        </div>

        <!-- Organic Pesticide Recipes Section (Index) -->
        <div id="recipes-section" class="section">
            <div class="container mx-auto">
                <header class="text-center py-8">
                    <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-2" data-key="recipes_title">Organic Pesticide Recipes</h1>
                    <p class="text-gray-600 text-sm md:text-base" data-key="recipes_subtitle">Discover natural, homemade solutions for common garden pests.</p>
                </header>
                <div class="search-box text-center mb-8">
                    <input type="text" id="search" placeholder="Search by name, target, or crop..." oninput="filterRecipes()" class="w-full max-w-lg p-3 rounded-full border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-300">
                </div>
                <!-- Recipe cards grid that adjusts for different screen sizes -->
                <div id="recipe-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
        </div>


        <!-- Tools Section -->
        <div id="tools-section" class="section">
            <div class="container mx-auto text-center py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-4" data-key="tools_title">Farming Tools & Calculators</h1>
                <p class="text-gray-600 mb-8 text-sm md:text-base" data-key="tools_subtitle">Use our interactive tools to plan your farming activities efficiently.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Sowing Seeds Calculator -->
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-bold text-green-600 mb-4" data-key="calc_seeds_title">Sowing Seeds Calculator</h2>
                        <div class="space-y-4 text-left">
                            <div>
                                <label for="land-size-seeds" class="block text-gray-700 font-semibold mb-1" data-key="calc_seeds_label1">Land Size (in acres)</label>
                                <input type="number" id="land-size-seeds" value="1" min="0.1" step="0.1" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label for="seed-type" class="block text-gray-700 font-semibold mb-1" data-key="calc_seeds_label2">Seed Type</label>
                                <select id="seed-type" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                                    <option value="groundnut" data-key="seed_type_groundnut">Groundnut</option>
                                    <option value="corn" data-key="seed_type_corn">Corn</option>
                                    <option value="rice" data-key="seed_type_rice">Rice</option>
                                    <option value="wheat" data-key="seed_type_wheat">Wheat</option>
                                </select>
                            </div>
                            <button onclick="calculateSeeds()" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="calc_seeds_button">Calculate Seeds</button>
                        </div>
                        <div id="seed-result" class="mt-4 p-4 bg-green-50 rounded-lg text-green-800 font-medium hidden"></div>
                    </div>

                    <!-- Spreading Pesticides Calculator -->
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-bold text-green-600 mb-4" data-key="calc_pesticides_title">Pesticides Spreading Calculator</h2>
                        <div class="space-y-4 text-left">
                            <div>
                                <label for="land-size-pesticide" class="block text-gray-700 font-semibold mb-1" data-key="calc_pesticides_label1">Land Size (in acres)</label>
                                <input type="number" id="land-size-pesticide" value="1" min="0.1" step="0.1" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label for="pesticide-type" class="block text-gray-700 font-semibold mb-1" data-key="calc_pesticides_label2">Pesticide Type</label>
                                <select id="pesticide-type" class="w-full p-2 border rounded-md focus:ring-2 focus:ring-green-500">
                                    <option value="neem-oil" data-key="pesticide_type_neem">Neem Oil Emulsion</option>
                                    <option value="garlic-chilli" data-key="pesticide_type_garlic">Garlic-Chilli Spray</option>
                                    <option value="tobacco" data-key="pesticide_type_tobacco">Tobacco Decoction</option>
                                </select>
                            </div>
                            <button onclick="calculatePesticides()" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="calc_pesticides_button">Calculate Pesticides</button>
                        </div>
                        <div id="pesticide-result" class="mt-4 p-4 bg-green-50 rounded-lg text-green-800 font-medium hidden"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reviews/Feedback Section -->
        <div id="reviews-section" class="section">
            <div class="container mx-auto py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-center text-green-700 mb-8" data-key="reviews_title">Customer Reviews</h1>
                <div id="reviews-container" class="grid grid-cols-1 md:grid-cols-2 gap-8"></div>
                <div class="mt-8 p-6 bg-white rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-green-600 mb-4" data-key="review_form_title">Leave a Review</h2>
                    <form id="review-form" class="space-y-4">
                        <div>
                            <label for="review-text" class="block text-sm font-medium text-gray-700" data-key="review_label">Your Review</label>
                            <textarea id="review-text" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="review_button">Submit Review</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard Section -->
        <div id="admin-section" class="section admin-theme">
            <div class="container mx-auto py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-center text-gray-50 mb-8" data-key="admin_dashboard_title">Admin Dashboard</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                    <!-- Manage Recipes -->
                    <div class="admin-card p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-bold mb-4" data-key="admin_recipes_title">Manage Recipes</h2>
                        <form id="admin-recipe-form" class="space-y-4">
                            <div>
                                <label for="recipe-id" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_id_label">Recipe ID (for update/delete)</label>
                                <input type="text" id="recipe-id" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-name-en" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_name_label">Recipe Name (EN)</label>
                                <input type="text" id="recipe-name-en" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-name-hi" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_name_label">Recipe Name (HI)</label>
                                <input type="text" id="recipe-name-hi" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-name-mr" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_name_label">Recipe Name (MR)</label>
                                <input type="text" id="recipe-name-mr" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-targets-en" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_targets_label">Targets (comma-separated, EN)</label>
                                <input type="text" id="recipe-targets-en" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-targets-hi" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_targets_label">Targets (comma-separated, HI)</label>
                                <input type="text" id="recipe-targets-hi" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-targets-mr" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_targets_label">Targets (comma-separated, MR)</label>
                                <input type="text" id="recipe-targets-mr" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-cost" class="block text-sm font-medium text-gray-300" data-key="admin_recipes_cost_label">Approximate Cost (‚Çπ)</label>
                                <input type="number" id="recipe-cost" required class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-where-en" class="block text-sm font-medium text-gray-300">Where to Use (EN)</label>
                                <input type="text" id="recipe-where-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-where-hi" class="block text-sm font-medium text-gray-300">Where to Use (HI)</label>
                                <input type="text" id="recipe-where-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-where-mr" class="block text-sm font-medium text-gray-300">Where to Use (MR)</label>
                                <input type="text" id="recipe-where-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-ingredients-en" class="block text-sm font-medium text-gray-300">Ingredients (EN)</label>
                                <input type="text" id="recipe-ingredients-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-ingredients-hi" class="block text-sm font-medium text-gray-300">Ingredients (HI)</label>
                                <input type="text" id="recipe-ingredients-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-ingredients-mr" class="block text-sm font-medium text-gray-300">Ingredients (MR)</label>
                                <input type="text" id="recipe-ingredients-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-procedure-en" class="block text-sm font-medium text-gray-300">Procedure (EN)</label>
                                <input type="text" id="recipe-procedure-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-procedure-hi" class="block text-sm font-medium text-gray-300">Procedure (HI)</label>
                                <input type="text" id="recipe-procedure-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-procedure-mr" class="block text-sm font-medium text-gray-300">Procedure (MR)</label>
                                <input type="text" id="recipe-procedure-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="recipe-usage-en" class="block text-sm font-medium text-gray-300">How to Use (EN)</label>
                                <input type="text" id="recipe-usage-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-usage-hi" class="block text-sm font-medium text-gray-300">How to Use (HI)</label>
                                <input type="text" id="recipe-usage-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="recipe-usage-mr" class="block text-sm font-medium text-gray-300">How to Use (MR)</label>
                                <input type="text" id="recipe-usage-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div class="flex space-x-4">
                                <button type="submit" onclick="addUpdateRecipe(event)" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_add_recipe">Add/Update</button>
                                <button type="button" onclick="deleteRecipe(event)" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_delete_recipe">Delete</button>
                            </div>
                        </form>
                    </div>

                    <!-- Manage Calculator Data -->
                    <div class="admin-card p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-bold mb-4" data-key="admin_calc_title">Manage Calculator Data</h2>
                        <form id="admin-calc-form" class="space-y-4">
                            <div>
                                <label for="calc-type-select" class="block text-sm font-medium text-gray-300" data-key="admin_calc_type_label">Type</label>
                                <select id="calc-type-select" class="mt-1 block w-full rounded-md admin-input">
                                    <option value="seed">Seed Type</option>
                                    <option value="pesticide">Pesticide Type</option>
                                </select>
                            </div>
                            <div>
                                <label for="calc-key" class="block text-sm font-medium text-gray-300" data-key="admin_calc_key_label">Key (e.g., 'corn')</label>
                                <input type="text" id="calc-key" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="calc-name-en" class="block text-sm font-medium text-gray-300" data-key="admin_calc_name_label">Name (EN)</label>
                                <input type="text" id="calc-name-en" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="calc-name-hi" class="block text-sm font-medium text-gray-300" data-key="admin_calc_name_label">Name (HI)</label>
                                <input type="text" id="calc-name-hi" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                             <div>
                                <label for="calc-name-mr" class="block text-sm font-medium text-gray-300" data-key="admin_calc_name_label">Name (MR)</label>
                                <input type="text" id="calc-name-mr" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div>
                                <label for="calc-amount" class="block text-sm font-medium text-gray-300" data-key="admin_calc_amount_label">Amount (kg or L)</label>
                                <input type="number" id="calc-amount" class="mt-1 block w-full rounded-md admin-input">
                            </div>
                            <div class="flex space-x-4">
                                <button type="button" onclick="addUpdateCalcData()" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_add_calc">Add/Update</button>
                                <button type="button" onclick="deleteCalcData()" class="w-full admin-button py-2 px-4 rounded-full hover:bg-gray-700 transition-colors duration-300 btn-press" data-key="admin_delete_calc">Delete</button>
                            </div>
                        </form>
                    </div>

                    <!-- Manage Reviews -->
                    <div class="admin-card p-6 rounded-lg shadow-md md:col-span-2">
                        <h2 class="text-2xl font-bold mb-4" data-key="admin_reviews_title">Manage Reviews</h2>
                        <div id="admin-reviews-list" class="space-y-4">
                            <!-- Reviews will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Bot Section -->
        <div id="chatbot-section" class="section">
            <div class="container mx-auto text-center py-16">
                <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-4" data-key="chatbot_title">Farming Assistant Chat Bot</h1>
                <p class="text-gray-600 mb-8 text-sm md:text-base" data-key="chatbot_subtitle">Ask our AI assistant for advice on pests, recipes, or general farming tips.</p>
                <div class="max-w-lg mx-auto bg-white p-6 rounded-lg shadow-xl">
                    <div id="chatbot-messages" class="h-64 overflow-y-auto mb-4 border rounded-lg p-4 bg-gray-50">
                        <p class="text-left text-gray-500" data-key="chatbot_initial_msg">Hello! I'm your farming assistant. How can I help you today?</p>
                    </div>
                    <!-- Chatbot 'is typing' indicator -->
                    <div class="flex mt-4">
                        <input type="text" id="chatbot-input" placeholder="Type your question here..." class="flex-grow p-3 rounded-l-full border border-gray-300 focus:outline-none">
                        <button onclick="sendMessage()" class="bg-green-600 text-white py-2 px-4 rounded-full hover:bg-green-700 transition-colors duration-300 btn-press" data-key="chatbot_send_btn">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="bg-gray-800 text-white text-center py-6">
            <p data-key="footer_text">¬© 2025 Farming Hub. All rights reserved. Made by Saksham Bhor | Email: <a href="mailto:sakshambhor@gmail.com" class="text-green-400 hover:text-green-300 transition-colors duration-300">sakshambhor@gmail.com</a></p>
        </footer>
    </div>

    <script type="module">
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, collection, onSnapshot, addDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase objects from the initial script block
        const auth = window.firebase.auth;
        const db = window.firebase.db;

        // Data and translation objects
        const translations = {
            en: {
                nav_home: "Home", nav_recipes: "Recipes", nav_tools: "Tools", nav_reviews: "Reviews", nav_chatbot: "Chat Bot", nav_admin: "Admin", nav_logout: "Logout", nav_login: "Login / Sign Up",
                home_title: "Welcome to Farming Hub", home_subtitle: "Your one-stop destination for organic farming knowledge, sustainable practices, and community support.",
                recipes_title: "Organic Pesticide Recipes", recipes_subtitle: "Discover natural, homemade solutions for common garden pests.", recipes_search_placeholder: "Search by name, target, or crop...", recipes_no_found: "No recipes found. Try a different search term.", recipes_card_targets: "üéØ Targets:", recipes_card_where: "üìç Where to Use:", recipes_card_ingredients: "üßæ Ingredients:", recipes_card_procedure: "‚öôÔ∏è Procedure:", recipes_card_usage: "üí° How to Use:", recipes_card_cost: "üí∞ Approximate Cost:",
                tools_title: "Farming Tools & Calculators", tools_subtitle: "Use our interactive tools to plan your farming activities efficiently.", calc_seeds_title: "Sowing Seeds Calculator", calc_seeds_label1: "Land Size (in acres)", calc_seeds_label2: "Seed Type", calc_seeds_button: "Calculate Seeds", calc_seeds_result: (amount, type, size) => `You will need approximately <strong>${amount} kg</strong> of ${type} seeds for ${size} acres.`, calc_seeds_error: "Please enter a valid land size.",
                calc_pesticides_title: "Pesticides Spreading Calculator", calc_pesticides_label1: "Land Size (in acres)", calc_pesticides_label2: "Pesticide Type", calc_pesticides_button: "Calculate Pesticides", calc_pesticides_result: (amount, type, size) => `You will need approximately <strong>${amount} L</strong> of ${type} for ${size} acres.`, calc_pesticides_error: "Please enter a valid land size.",
                reviews_title: "Customer Reviews", review_form_title: "Leave a Review", review_label: "Your Review", review_button: "Submit Review",
                chatbot_title: "Farming Assistant Chat Bot", chatbot_subtitle: "Ask our AI assistant for advice on pests, recipes, or general farming tips.", chatbot_initial_msg: "Hello! I'm your farming assistant. How can I help you today?", chatbot_typing: "Bot is typing...", chatbot_send_btn: "Send", chatbot_user_label: "You:", chatbot_bot_label: "Bot:", chatbot_placeholder: "Type your question here...", chatbot_static_response: `I'm an AI assistant. I can't generate new content right now, but I can help you search the recipes. Try searching for "aphids" or "fungal" in the recipes section!`, chatbot_error: "Error: Failed to get response. Please try again.",
                footer_text: "¬© 2025 Farming Hub. All rights reserved. Made by Saksham Bhor | Email:",
                login_title: "Login", login_email_label: "Email", login_password_label: "Password", login_button: "Login", login_switch_text: "Don't have an account? <a>Sign up</a>", login_admin_text: "Admin login? <a>Click here</a>",
                admin_title: "Admin Login", admin_button: "Admin Login", admin_switch_text: "Go back to <a>user login</a>",
                signup_button: "Sign Up", signup_title: "Sign Up",
                admin_dashboard_title: "Admin Dashboard", admin_recipes_title: "Manage Recipes", admin_recipes_id_label: "Recipe ID (for update/delete)", admin_recipes_name_label: "Recipe Name", admin_recipes_targets_label: "Targets (comma-separated)", admin_recipes_cost_label: "Approximate Cost (‚Çπ)", admin_add_recipe: "Add/Update", admin_delete_recipe: "Delete", admin_calc_title: "Manage Calculator Data", admin_calc_type_label: "Type", admin_calc_key_label: "Key (e.g., 'corn')", admin_calc_name_label: "Name", admin_calc_amount_label: "Amount (kg or L)", admin_add_calc: "Add/Update", admin_delete_calc: "Delete", admin_reviews_title: "Manage Reviews",
            },
            hi: {
                nav_home: "‡§π‡•ã‡§Æ", nav_recipes: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä", nav_tools: "‡§ü‡•Ç‡§≤", nav_reviews: "‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç", nav_chatbot: "‡§ö‡•à‡§ü ‡§¨‡•â‡§ü", nav_admin: "‡§è‡§°‡§Æ‡§ø‡§®", nav_logout: "‡§≤‡•â‡§ó‡§Ü‡§â‡§ü", nav_login: "‡§≤‡•â‡§ó‡§ø‡§® / ‡§∏‡§æ‡§á‡§® ‡§Ö‡§™",
                home_title: "‡§´‡§º‡§æ‡§∞‡•ç‡§Æ‡§ø‡§Ç‡§ó ‡§π‡§¨ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à", home_subtitle: "‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§ú‡•ç‡§û‡§æ‡§®, ‡§ü‡§ø‡§ï‡§æ‡§ä ‡§™‡•ç‡§∞‡§•‡§æ‡§ì‡§Ç ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡•Å‡§¶‡§æ‡§Ø‡§ø‡§ï ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡§æ ‡§µ‡§®-‡§∏‡•ç‡§ü‡•â‡§™ ‡§°‡•á‡§∏‡•ç‡§ü‡§ø‡§®‡•á‡§∂‡§®‡•§",
                recipes_title: "‡§ú‡•à‡§µ‡§ø‡§ï ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä", recipes_subtitle: "‡§Ü‡§Æ ‡§¨‡§ó‡•Ä‡§ö‡•á ‡§ï‡•á ‡§ï‡•Ä‡§ü‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï, ‡§ò‡§∞ ‡§™‡§∞ ‡§¨‡§®‡•á ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§ñ‡•ã‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§", recipes_search_placeholder: "‡§®‡§æ‡§Æ, ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§Ø‡§æ ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç...", recipes_no_found: "‡§ï‡•ã‡§à ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä‡•§ ‡§è‡§ï ‡§Ö‡§≤‡§ó ‡§ñ‡•ã‡§ú ‡§∂‡§¨‡•ç‡§¶ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§", recipes_card_targets: "üéØ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø:", recipes_card_where: "üìç ‡§ï‡§π‡§æ‡§Å ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç:", recipes_card_ingredients: "üßæ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä:", recipes_card_procedure: "‚öôÔ∏è ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ:", recipes_card_usage: "üí° ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç:", recipes_card_cost: "üí∞ ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§≤‡§æ‡§ó‡§§:",
                tools_title: "‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§â‡§™‡§ï‡§∞‡§£ ‡§î‡§∞ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞", tools_subtitle: "‡§Ö‡§™‡§®‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•Ä ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡•Å‡§∂‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§Æ‡§æ‡§∞‡•á ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§ü‡§ø‡§µ ‡§ü‡•Ç‡§≤ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§", calc_seeds_title: "‡§¨‡•Ä‡§ú ‡§¨‡•ã‡§®‡•á ‡§ï‡§æ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞", calc_seeds_label1: "‡§≠‡•Ç‡§Æ‡§ø ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ (‡§è‡§ï‡§°‡§º ‡§Æ‡•á‡§Ç)", calc_seeds_label2: "‡§¨‡•Ä‡§ú ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", calc_seeds_button: "‡§¨‡•Ä‡§ú ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", calc_seeds_result: (amount, type, size) => `${size} ‡§è‡§ï‡§°‡§º ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡•ã ‡§≤‡§ó‡§≠‡§ó <strong>${amount} ‡§ï‡§ø‡§≤‡•ã</strong> ${type} ‡§¨‡•Ä‡§ú ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§ó‡•Ä‡•§`, calc_seeds_error: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡•à‡§ß ‡§≠‡•Ç‡§Æ‡§ø ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§",
                calc_pesticides_title: "‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§´‡•à‡§≤‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞", calc_pesticides_label1: "‡§≠‡•Ç‡§Æ‡§ø ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ (‡§è‡§ï‡§°‡§º ‡§Æ‡•á‡§Ç)", calc_pesticides_label2: "‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", calc_pesticides_button: "‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", calc_pesticides_result: (amount, type, size) => `${size} ‡§è‡§ï‡§°‡§º ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡•ã ‡§≤‡§ó‡§≠‡§ó <strong>${amount} L</strong> ${type} ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§ó‡•Ä‡•§`, calc_pesticides_error: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡•à‡§ß ‡§≠‡•Ç‡§Æ‡§ø ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§",
                reviews_title: "‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ‡§è‡§Ç", review_form_title: "‡§è‡§ï ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§õ‡•ã‡§°‡§º‡•á‡§Ç", review_label: "‡§Ü‡§™‡§ï‡§æ ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç", review_button: "‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç",
                chatbot_title: "‡§ñ‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§ö‡•à‡§ü ‡§¨‡•â‡§ü", chatbot_subtitle: "‡§ï‡•Ä‡§ü‡•ã‡§Ç, ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§®‡•ã‡§Ç ‡§Ø‡§æ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ñ‡•á‡§§‡•Ä ‡§Ø‡•Å‡§ï‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§™‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§è‡§Ü‡§à ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§∏‡•á ‡§∏‡§≤‡§æ‡§π ‡§≤‡•á‡§Ç‡•§", chatbot_initial_msg: "‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§π‡•Ç‡§Å‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§ú ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?", chatbot_typing: "‡§¨‡•â‡§ü ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à...", chatbot_send_btn: "‡§≠‡•á‡§ú‡•á‡§Ç", chatbot_user_label: "‡§Ü‡§™:", chatbot_bot_label: "‡§¨‡•â‡§ü:", chatbot_placeholder: "‡§Ø‡§π‡§æ‡§Ç ‡§Ö‡§™‡§®‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç...", chatbot_static_response: "‡§Æ‡•à‡§Ç ‡§è‡§ï AI ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§π‡•Ç‡§Å‡•§ ‡§Æ‡•à‡§Ç ‡§Ö‡§≠‡•Ä ‡§®‡§à ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§®‡§æ ‡§∏‡§ï‡§§‡§æ, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Æ‡•à‡§Ç ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§ñ‡•ã‡§ú‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§Ö‡§®‡•Å‡§≠‡§æ‡§ó ‡§Æ‡•á‡§Ç '‡§è‡§´‡§ø‡§°‡•ç‡§∏' ‡§Ø‡§æ '‡§´‡§Ç‡§ó‡§≤' ‡§ñ‡•ã‡§ú‡•á‡§Ç!", chatbot_error: "‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®: ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§",
                footer_text: "¬© 2025 ‡§´‡§æ‡§∞‡•ç‡§Æ‡§ø‡§Ç‡§ó ‡§π‡§¨‡•§ ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ: Saksham Bhor | ‡§à‡§Æ‡•á‡§≤:",
                login_title: "‡§≤‡•â‡§ó‡§ø‡§® / ‡§∏‡§æ‡§á‡§® ‡§Ö‡§™", login_email_label: "‡§à‡§Æ‡•á‡§≤", login_password_label: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°", login_button: "‡§≤‡•â‡§ó‡§ø‡§®", login_switch_text: "‡§ñ‡§æ‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à? <a>‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç</a>", login_admin_text: "‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®? <a>‡§Ø‡§π‡§æ‡§Å ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç</a>",
                admin_title: "‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®", admin_button: "‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®", admin_switch_text: "<a>‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§≤‡•â‡§ó‡§ø‡§®</a> ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç",
                signup_button: "‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç", signup_title: "‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç",
                admin_dashboard_title: "‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°", admin_recipes_title: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç", admin_recipes_id_label: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§Ü‡§à‡§°‡•Ä (‡§Ö‡§™‡§°‡•á‡§ü/‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è)", admin_recipes_name_label: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ", admin_recipes_targets_label: "‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø (‡§ï‡•â‡§Æ‡§æ-‡§∏‡•á‡§™‡§∞‡•á‡§ü‡•á‡§°)", admin_recipes_cost_label: "‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§≤‡§æ‡§ó‡§§ (‚Çπ)", admin_add_recipe: "‡§ú‡•ã‡§°‡§º‡•á‡§Ç/‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç", admin_delete_recipe: "‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡•á‡§Ç", admin_calc_title: "‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞ ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç", admin_calc_type_label: "‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", admin_calc_key_label: "‡§ï‡•Å‡§Ç‡§ú‡•Ä (‡§â‡§¶‡§æ‡§π‡§∞‡§£: 'corn')", admin_calc_name_label: "‡§®‡§æ‡§Æ", admin_calc_amount_label: "‡§∞‡§æ‡§∂‡§ø (‡§ï‡§ø‡§≤‡•ã ‡§Ø‡§æ ‡§≤‡•Ä‡§ü‡§∞)", admin_add_calc: "‡§ú‡•ã‡§°‡§º‡•á‡§Ç/‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç", admin_delete_calc: "‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡•á‡§Ç", admin_reviews_title: "‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
            },
            mr: {
                nav_home: "‡§π‡•ã‡§Æ", nav_recipes: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä", nav_tools: "‡§∏‡§æ‡§ß‡§®‡•á", nav_reviews: "‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§®‡•á", nav_chatbot: "‡§ö‡•Ö‡§ü ‡§¨‡•â‡§ü", nav_admin: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï", nav_logout: "‡§≤‡•â‡§ó‡§Ü‡§â‡§ü", nav_login: "‡§≤‡•â‡§ó‡§ø‡§® / ‡§∏‡§æ‡§á‡§® ‡§Ö‡§™",
                home_title: "‡§´‡§æ‡§∞‡•ç‡§Æ‡§ø‡§Ç‡§ó ‡§π‡§¨‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Ü‡§™‡§≤‡•á ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§Ü‡§π‡•á", home_subtitle: "‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§∂‡•á‡§§‡•Ä‡§ö‡•á ‡§ú‡•ç‡§û‡§æ‡§®, ‡§∂‡§æ‡§∂‡•ç‡§µ‡§§ ‡§™‡§¶‡•ç‡§ß‡§§‡•Ä ‡§Ü‡§£‡§ø ‡§∏‡§æ‡§Æ‡•Å‡§¶‡§æ‡§Ø‡§ø‡§ï ‡§∏‡§Æ‡§∞‡•ç‡§•‡§®‡§æ‡§∏‡§æ‡§†‡•Ä ‡§§‡•Å‡§Æ‡§ö‡•á ‡§µ‡§®-‡§∏‡•ç‡§ü‡•â‡§™ ‡§°‡•á‡§∏‡•ç‡§ü‡§ø‡§®‡•á‡§∂‡§®.",
                recipes_title: "‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§ï‡•Ä‡§ü‡§ï‡§®‡§æ‡§∂‡§ï ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä", recipes_subtitle: "‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§¨‡§æ‡§ó‡•á‡§§‡•Ä‡§≤ ‡§ï‡•Ä‡§ü‡§ï‡§æ‡§Ç‡§µ‡§∞ ‡§®‡•à‡§∏‡§∞‡•ç‡§ó‡§ø‡§ï, ‡§ò‡§∞‡§ó‡•Å‡§§‡•Ä ‡§â‡§™‡§æ‡§Ø ‡§∂‡•ã‡§ß‡§æ.", recipes_search_placeholder: "‡§®‡§æ‡§µ, ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§™‡§ø‡§ï‡§æ‡§®‡•Å‡§∏‡§æ‡§∞ ‡§∂‡•ã‡§ß‡§æ...", recipes_no_found: "‡§ï‡•ã‡§£‡§§‡•ç‡§Ø‡§æ‡§π‡•Ä ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§∏‡§æ‡§™‡§°‡§≤‡•ç‡§Ø‡§æ ‡§®‡§æ‡§π‡•Ä‡§§. ‡§µ‡•á‡§ó‡§≥‡§æ ‡§∂‡•ã‡§ß ‡§∂‡§¨‡•ç‡§¶ ‡§µ‡§æ‡§™‡§∞‡•Ç‡§® ‡§™‡§π‡§æ.", recipes_card_targets: "üéØ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø:", recipes_card_where: "üìç ‡§ï‡•Å‡§†‡•á ‡§µ‡§æ‡§™‡§∞‡§æ‡§µ‡•á:", recipes_card_ingredients: "üßæ ‡§∏‡§æ‡§π‡§ø‡§§‡•ç‡§Ø:", recipes_card_procedure: "‚öôÔ∏è ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ:", recipes_card_usage: "üí° ‡§ï‡§∏‡•á ‡§µ‡§æ‡§™‡§∞‡§æ‡§µ‡•á:", recipes_card_cost: "üí∞ ‡§Ö‡§Ç‡§¶‡§æ‡§ú‡•á ‡§ñ‡§∞‡•ç‡§ö:",
                shop_title: "‡§∂‡•á‡§§ ‡§¶‡•Å‡§ï‡§æ‡§®", shop_subtitle: "‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§¨‡§æ‡§ó‡§ï‡§æ‡§Æ ‡§∏‡§æ‡§ß‡§®‡•á, ‡§¨‡§ø‡§Ø‡§æ‡§£‡•á ‡§Ü‡§£‡§ø ‡§™‡•Å‡§∞‡§µ‡§†‡§æ ‡§Ø‡§æ‡§Ç‡§ö‡§æ ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§™‡§π‡§æ.", shop_item1_title: "‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§¨‡§ø‡§Ø‡§æ‡§£‡•á ‡§™‡•Ö‡§ï", shop_item1_desc: "‡§µ‡§ø‡§µ‡§ø‡§ß ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞‡§ö‡•á ‡§ó‡•à‡§∞-‡§ú‡•Ä‡§è‡§Æ‡§ì, ‡§µ‡§æ‡§∞‡§∏‡§æ ‡§¨‡§ø‡§Ø‡§æ‡§£‡•á.", shop_item2_title: "‡§™‡§∞‡•ç‡§Ø‡§æ‡§µ‡§∞‡§£-‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤ ‡§∏‡§æ‡§ß‡§®‡§æ‡§Ç‡§ö‡§æ ‡§∏‡§Ç‡§ö", shop_item2_desc: "‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§æ‡§™‡§∞ ‡§ï‡•á‡§≤‡•á‡§≤‡•ç‡§Ø‡§æ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä‡§™‡§æ‡§∏‡•Ç‡§® ‡§¨‡§®‡§µ‡§≤‡•á‡§≤‡•Ä ‡§ü‡§ø‡§ï‡§æ‡§ä ‡§∏‡§æ‡§ß‡§®‡•á.", shop_item3_title: "‡§ò‡§∞‡§ó‡•Å‡§§‡•Ä ‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü‡§∞", shop_item3_desc: "‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§∏‡•ç‡§µ‡§§‡§É‡§ö‡•Ä ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß, ‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§Æ‡§æ‡§§‡•Ä ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ.", shop_button: "‡§ï‡§æ‡§∞‡•ç‡§ü‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§ú‡•ã‡§°‡§æ",
                elearning_title: "‡§à-‡§≤‡§∞‡•ç‡§®‡§ø‡§Ç‡§ó ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞", elearning_subtitle: "‡§Ü‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§µ‡•ç‡§π‡§ø‡§°‡§ø‡§ì ‡§ü‡•ç‡§Ø‡•Ç‡§ü‡•ã‡§∞‡§ø‡§Ø‡§≤ ‡§Ü‡§£‡§ø ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§ï‡§æ‡§Ç‡§∏‡§π ‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§∂‡•á‡§§‡•Ä‡§ö‡•Ä ‡§Æ‡•Ç‡§≤‡§§‡§§‡•ç‡§§‡•ç‡§µ‡•á ‡§∂‡§ø‡§ï‡§æ.", elearning_item1_title: "‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ 1: ‡§Æ‡§æ‡§§‡•Ä‡§ö‡•á ‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø", elearning_item1_desc: "‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§∞‡•ã‡§™‡§æ‡§Ç‡§∏‡§æ‡§†‡•Ä ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡§æ‡§Ç‡§®‡•Ä ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß ‡§Æ‡§æ‡§§‡•Ä ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§ï‡§≤‡§æ ‡§Ü‡§§‡•ç‡§Æ‡§∏‡§æ‡§§ ‡§ï‡§∞‡§æ.", elearning_item2_title: "‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ 2: ‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø ‡§ï‡•Ä‡§ü‡§ï ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£", elearning_item2_desc: "‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§™‡§ø‡§ï‡§æ‡§Ç‡§®‡§æ ‡§ï‡•Ä‡§ü‡§ï‡§æ‡§Ç‡§™‡§æ‡§∏‡•Ç‡§® ‡§µ‡§æ‡§ö‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§®‡•à‡§∏‡§∞‡•ç‡§ó‡§ø‡§ï ‡§™‡§¶‡•ç‡§ß‡§§‡•Ä ‡§∂‡•ã‡§ß‡§æ.", elearning_item3_title: "‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ 3: ‡§∂‡§æ‡§∂‡•ç‡§µ‡§§ ‡§ï‡§æ‡§¢‡§£‡•Ä", elearning_item3_desc: "‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§™‡§ø‡§ï‡§æ‡§Ç‡§ö‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡•á‡§®‡•á ‡§Ü‡§£‡§ø ‡§∂‡§æ‡§∂‡•ç‡§µ‡§§‡§™‡§£‡•á ‡§ï‡§æ‡§¢‡§£‡•Ä ‡§ï‡§∂‡•Ä ‡§ï‡§∞‡§æ‡§µ‡•Ä ‡§§‡•á ‡§∂‡§ø‡§ï‡§æ.",
                tools_title: "‡§∂‡•á‡§§‡•Ä ‡§∏‡§æ‡§ß‡§®‡•á ‡§Ü‡§£‡§ø ‡§ï‡•Ö‡§≤‡•ç‡§ï‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞", tools_subtitle: "‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§∂‡•á‡§§‡•Ä‡§ö‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§Æ‡§æ‡§Ç‡§ö‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡•á‡§®‡•á ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§Ü‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§™‡§∞‡§∏‡•ç‡§™‡§∞‡§∏‡§Ç‡§µ‡§æ‡§¶‡•Ä ‡§∏‡§æ‡§ß‡§®‡§æ‡§Ç‡§ö‡§æ ‡§µ‡§æ‡§™‡§∞ ‡§ï‡§∞‡§æ.", calc_seeds_title: "‡§¨‡§ø‡§Ø‡§æ‡§£‡•á ‡§™‡•á‡§∞‡§£‡•Ä ‡§ï‡•Ö‡§≤‡•ç‡§ï‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞", calc_seeds_label1: "‡§ú‡§Æ‡§ø‡§®‡•Ä‡§ö‡§æ ‡§Ü‡§ï‡§æ‡§∞ (‡§è‡§ï‡§∞‡§Æ‡§ß‡•ç‡§Ø‡•á)", calc_seeds_label2: "‡§¨‡§ø‡§Ø‡§æ‡§£‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", calc_seeds_button: "‡§¨‡§ø‡§Ø‡§æ‡§£‡•á ‡§Æ‡•ã‡§ú‡§æ", calc_seeds_result: (amount, type, size) => `${size} ‡§è‡§ï‡§∞‡§∏‡§æ‡§†‡•Ä ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§Ö‡§Ç‡§¶‡§æ‡§ú‡•á <strong>${amount} ‡§ï‡§ø‡§≤‡•ã</strong> ${type} ‡§¨‡§ø‡§Ø‡§æ‡§£‡•á ‡§≤‡§æ‡§ó‡•á‡§≤.`, calc_seeds_error: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§ú‡§Æ‡§ø‡§®‡•Ä‡§ö‡§æ ‡§µ‡•à‡§ß ‡§Ü‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü ‡§ï‡§∞‡§æ.",
                calc_pesticides_title: "‡§ï‡•Ä‡§ü‡§ï‡§®‡§æ‡§∂‡§ï ‡§´‡§µ‡§æ‡§∞‡§£‡•Ä ‡§ï‡•Ö‡§≤‡•ç‡§ï‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞", calc_pesticides_label1: "‡§ú‡§Æ‡§ø‡§®‡•Ä‡§ö‡§æ ‡§Ü‡§ï‡§æ‡§∞ (‡§è‡§ï‡§∞‡§Æ‡§ß‡•ç‡§Ø‡•á)", calc_pesticides_label2: "‡§ï‡•Ä‡§ü‡§ï‡§®‡§æ‡§∂‡§ï ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", calc_pesticides_button: "‡§ï‡•Ä‡§ü‡§ï‡§®‡§æ‡§∂‡§ï‡•á ‡§Æ‡•ã‡§ú‡§æ", calc_pesticides_result: (amount, type, size) => `${size} ‡§è‡§ï‡§∞‡§∏‡§æ‡§†‡•Ä ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§Ö‡§Ç‡§¶‡§æ‡§ú‡•á <strong>${amount} L</strong> ${type} ‡§≤‡§æ‡§ó‡•á‡§≤.`, calc_pesticides_error: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§ú‡§Æ‡§ø‡§®‡•Ä‡§ö‡§æ ‡§µ‡•à‡§ß ‡§Ü‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü ‡§ï‡§∞‡§æ.",
                reviews_title: "‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§®‡•á", review_form_title: "‡§è‡§ï ‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§® ‡§¶‡•ç‡§Ø‡§æ", review_label: "‡§§‡•Å‡§Æ‡§ö‡•á ‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§®", review_button: "‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§® ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§æ",
                chatbot_title: "‡§∂‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§ö‡•Ö‡§ü ‡§¨‡•â‡§ü", chatbot_subtitle: "‡§ï‡•Ä‡§ü‡§ï, ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∂‡•á‡§§‡•Ä ‡§ü‡§ø‡§™‡•ç‡§∏‡§∏‡§æ‡§†‡•Ä ‡§Ü‡§Æ‡§ö‡•ç‡§Ø‡§æ AI ‡§∏‡§π‡§æ‡§Ø‡•ç‡§Ø‡§æ‡§≤‡§æ ‡§µ‡§ø‡§ö‡§æ‡§∞‡§æ.", chatbot_initial_msg: "‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Æ‡•Ä ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§∂‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§Ü‡§π‡•á. ‡§Æ‡•Ä ‡§Ü‡§ú ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§ï‡§∂‡•Ä ‡§Æ‡§¶‡§§ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡•ã?", chatbot_typing: "‡§¨‡•â‡§ü ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á...", chatbot_send_btn: "‡§™‡§æ‡§†‡§µ‡§æ", chatbot_user_label: "‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä:", chatbot_bot_label: "‡§¨‡•â‡§ü:", chatbot_placeholder: "‡§Ø‡•á‡§•‡•á ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ...", chatbot_static_response: "‡§Æ‡•Ä ‡§è‡§ï AI ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§Ü‡§π‡•á. ‡§Æ‡•Ä ‡§Ü‡§§‡•ç‡§§‡§æ ‡§®‡§µ‡•Ä‡§® ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§ ‡§®‡§æ‡§π‡•Ä, ‡§™‡§£ ‡§Æ‡•Ä ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§∂‡•ã‡§ß‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Æ‡§¶‡§§ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡•ã. ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§µ‡§ø‡§≠‡§æ‡§ó‡§æ‡§§ '‡§ç‡§´‡§ø‡§°‡•ç‡§∏' ‡§ï‡§ø‡§Ç‡§µ‡§æ '‡§´‡§Ç‡§ó‡§≤' ‡§∂‡•ã‡§ß‡§£‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ!", chatbot_error: "‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä: ‡§™‡•ç‡§∞‡§§‡§ø‡§∏‡§æ‡§¶ ‡§Æ‡§ø‡§≥‡§µ‡§ø‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Ö‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ‡•§",
                footer_text: "¬© 2025 ‡§´‡§æ‡§∞‡•ç‡§Æ‡§ø‡§Ç‡§ó ‡§π‡§¨. ‡§∏‡§∞‡•ç‡§µ ‡§π‡§ï‡•ç‡§ï ‡§∞‡§æ‡§ñ‡•Ä‡§µ. ‡§¨‡§®‡§µ‡§£‡§æ‡§∞‡•á: Saksham Bhor | ‡§à‡§Æ‡•á‡§≤:",
                login_title: "‡§≤‡•â‡§ó‡§ø‡§® / ‡§∏‡§æ‡§á‡§® ‡§Ö‡§™", login_email_label: "‡§à‡§Æ‡•á‡§≤", login_password_label: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°", login_button: "‡§≤‡•â‡§ó‡§ø‡§®", login_switch_text: "‡§ñ‡§æ‡§§‡•á ‡§®‡§æ‡§π‡•Ä? <a>‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡§æ</a>", login_admin_text: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï ‡§≤‡•â‡§ó‡§ø‡§®? <a>‡§Ø‡•á‡§•‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§æ</a>",
                admin_title: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï ‡§≤‡•â‡§ó‡§ø‡§®", admin_password_label: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°", admin_button: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï ‡§≤‡•â‡§ó‡§ø‡§®", admin_switch_text: "<a>‡§µ‡§æ‡§™‡§∞‡§ï‡§∞‡•ç‡§§‡§æ ‡§≤‡•â‡§ó‡§ø‡§®</a> ‡§µ‡§∞ ‡§™‡§∞‡§§ ‡§ú‡§æ",
                signup_button: "‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡§æ", signup_title: "‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡§æ",
                admin_dashboard_title: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°", admin_recipes_title: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§æ", admin_recipes_id_label: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§Ü‡§Ø‡§°‡•Ä (‡§Ö‡§™‡§°‡•á‡§ü/‡§°‡§ø‡§≤‡•Ä‡§ü‡§∏‡§æ‡§†‡•Ä)", admin_recipes_name_label: "‡§∞‡•á‡§∏‡§ø‡§™‡•Ä‡§ö‡•á ‡§®‡§æ‡§µ", admin_recipes_targets_label: "‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø (‡§ï‡•â‡§Æ‡§æ-‡§∏‡•á‡§™‡§∞‡•á‡§ü‡•á‡§°)", admin_recipes_cost_label: "‡§Ö‡§Ç‡§¶‡§æ‡§ú‡•á ‡§ñ‡§∞‡•ç‡§ö (‚Çπ)", admin_add_recipe: "‡§ú‡•ã‡§°‡§æ/‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ", admin_delete_recipe: "‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§æ", admin_calc_title: "‡§ï‡•Ö‡§≤‡•ç‡§ï‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞ ‡§°‡•á‡§ü‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§æ", admin_calc_type_label: "‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", admin_calc_key_label: "‡§ï‡•Ä (‡§â‡§¶‡§æ. 'corn')", admin_calc_name_label: "‡§®‡§æ‡§µ", admin_calc_amount_label: "‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ (‡§ï‡§ø‡§≤‡•ã ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§≤‡§ø‡§ü‡§∞)", admin_add_calc: "‡§ú‡•ã‡§°‡§æ/‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ", admin_delete_calc: "‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§æ", admin_reviews_title: "‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§®‡•á ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§æ",
            },
        };

        const currentLang = localStorage.getItem('language') || 'en';
        let isSignupMode = false;

        let recipesData = [];
        let seedData = {};
        let pesticideData = {};
        let reviewsData = [];

        document.getElementById('login-form').addEventListener('submit', handleAuthSubmit);
        document.getElementById('admin-form').addEventListener('submit', handleAdminLogin);
        document.getElementById('review-form').addEventListener('submit', addReview);

        function showUserLogin() {
            isSignupMode = false;
            document.getElementById('login-card').classList.add('active');
            document.getElementById('login-card').classList.remove('hidden');
            document.getElementById('admin-login-card').classList.add('hidden');
            document.getElementById('login-title').innerHTML = translations[currentLang].login_title;
            document.getElementById('login-button').innerHTML = translations[currentLang].login_button;
            document.getElementById('login-switch-text').innerHTML = translations[currentLang].login_switch_text;
        }

        function showAdminLogin() {
            document.getElementById('login-card').classList.add('hidden');
            document.getElementById('admin-login-card').classList.remove('hidden');
            document.getElementById('admin-login-card').classList.add('active');
        }

        function toggleForm() {
            isSignupMode = !isSignupMode;
            const loginTitle = document.getElementById('login-title');
            const loginButton = document.getElementById('login-button');
            const loginSwitchText = document.getElementById('login-switch-text');

            if (isSignupMode) {
                loginTitle.innerHTML = translations[currentLang].signup_title;
                loginButton.innerHTML = translations[currentLang].signup_button;
                loginSwitchText.innerHTML = translations[currentLang].login_switch_text.replace(translations.en.login_switch_text.split(' ')[2], translations.en.login_button);
            } else {
                loginTitle.innerHTML = translations[currentLang].login_title;
                loginButton.innerHTML = translations[currentLang].login_button;
                loginSwitchText.innerHTML = translations[currentLang].login_switch_text;
            }
        }

        async function handleAuthSubmit(event) {
            event.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const authMessage = document.getElementById('auth-message');
            authMessage.classList.add('hidden');

            try {
                if (isSignupMode) {
                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                    await setDoc(doc(db, "users", userCredential.user.uid), { role: 'user' });
                } else {
                    await signInWithEmailAndPassword(auth, email, password);
                }
            } catch (error) {
                authMessage.innerText = error.message;
                authMessage.classList.remove('hidden');
            }
        }

        async function handleAdminLogin(event) {
            event.preventDefault();
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            const authMessage = document.getElementById('admin-auth-message');
            authMessage.classList.add('hidden');
            
            try {
                await signInWithEmailAndPassword(auth, email, password);
            } catch (error) {
                authMessage.innerText = error.message;
                authMessage.classList.remove('hidden');
            }
        }

        function userLogout() {
            signOut(auth);
            showSection('login-section');
        }

        // --- Data Fetching and Real-time Listeners ---

        function fetchAllData() {
            onSnapshot(collection(db, "recipes"), (snapshot) => {
                recipesData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderRecipes(recipesData);
            });
            onSnapshot(collection(db, "seedData"), (snapshot) => {
                seedData = snapshot.docs.reduce((acc, doc) => ({ ...acc, [doc.id]: doc.data() }), {});
                updateSeedDropdown();
            });
            onSnapshot(collection(db, "pesticideData"), (snapshot) => {
                pesticideData = snapshot.docs.reduce((acc, doc) => ({ ...acc, [doc.id]: doc.data() }), {});
                updatePesticideDropdown();
            });
            onSnapshot(collection(db, "reviews"), (snapshot) => {
                reviewsData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderReviews(reviewsData);
                renderAdminReviews();
            });
        }

        function updateSeedDropdown() {
            const select = document.getElementById('seed-type');
            select.innerHTML = '';
            for (const key in seedData) {
                const option = document.createElement('option');
                option.value = key;
                option.text = seedData[key][currentLang];
                select.appendChild(option);
            }
        }

        function updatePesticideDropdown() {
            const select = document.getElementById('pesticide-type');
            select.innerHTML = '';
            for (const key in pesticideData) {
                const option = document.createElement('option');
                option.value = key;
                option.text = pesticideData[key][currentLang];
                select.appendChild(option);
            }
        }

        // --- UI Rendering Functions ---

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
            });
            const activeLink = document.querySelector(`.nav-links a[data-section="${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            const navMenu = document.getElementById('nav-menu');
            if (navMenu.classList.contains('active')) {
                toggleNav();
            }
            if (sectionId === 'recipes-section') {
                renderRecipes(recipesData);
            }
            if (sectionId === 'admin-section') {
                renderAdminReviews();
            }
        }

        function toggleNav() {
            document.getElementById('nav-menu').classList.toggle('active');
        }

        function renderRecipes(list) {
            const container = document.getElementById('recipe-container');
            const lang = document.getElementById('language-selector').value;
            if (!container) return;
            container.innerHTML = '';
            if (list.length === 0) {
                container.innerHTML = `<p class="col-span-full text-center text-gray-500 text-lg">${translations[lang].recipes_no_found}</p>`;
                return;
            }
            list.forEach((recipe, index) => {
                const card = document.createElement('div');
                card.className = 'recipe-card';
                card.style.animationDelay = `${index * 0.1}s`;
                card.innerHTML = `
                    <h2 class="text-2xl font-bold text-green-600 mb-2">${recipe.name[lang]}</h2>
                    <p class="text-sm text-gray-500 mb-4">ID: ${recipe.id}</p>
                    <div class="mb-3"><strong>${translations[lang].recipes_card_targets}</strong> <span class="text-gray-700">${recipe.targets[lang].join(', ')}</span></div>
                    <div class="mb-3"><strong>${translations[lang].recipes_card_where}</strong> <span class="text-gray-700">${recipe.where[lang].join(', ')}</span></div>
                    <div class="mb-3"><strong>${translations[lang].recipes_card_ingredients}</strong>
                        <ul class="list-disc list-inside mt-1">${recipe.ingredients[lang].map(i=>`<li>${i}</li>`).join('')}</ul>
                    </div>
                    <div class="mb-3"><strong>${translations[lang].recipes_card_procedure}</strong>
                        <ol class="list-decimal list-inside mt-1">${recipe.procedure[lang].map(p=>`<li>${p}</li>`).join('')}</ol>
                    </div>
                    <div class="mb-3"><strong>${translations[lang].recipes_card_usage}</strong>
                        <ul class="list-disc list-inside mt-1">${recipe.usage[lang].map(u=>`<li>${u}</li>`).join('')}</ul>
                    </div>
                    <div><strong>${translations[lang].recipes_card_cost}</strong> <span class="text-gray-700">‚Çπ${recipe.cost}</span></div>
                `;
                container.appendChild(card);
            });
        }

        function renderReviews(list) {
            const container = document.getElementById('reviews-container');
            if (!container) return;
            container.innerHTML = '';
            list.forEach(review => {
                const card = document.createElement('div');
                card.className = 'bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300';
                card.innerHTML = `
                    <p class="text-gray-600 italic mb-4">"${review.text}"</p>
                    <p class="font-semibold">- ${review.userEmail}</p>
                `;
                container.appendChild(card);
            });
        }

        function renderAdminReviews() {
            const container = document.getElementById('admin-reviews-list');
            container.innerHTML = '';
            reviewsData.forEach(review => {
                const card = document.createElement('div');
                card.className = 'admin-card p-4 rounded-lg shadow-md flex justify-between items-center';
                card.innerHTML = `
                    <div>
                        <p class="text-gray-300 italic">"${review.text}"</p>
                        <p class="font-semibold text-white">- ${review.userEmail} (ID: ${review.id})</p>
                    </div>
                    <button onclick="deleteReview('${review.id}')" class="bg-red-600 text-white py-1 px-3 rounded-full hover:bg-red-700 transition-colors duration-300 btn-press">Delete</button>
                `;
                container.appendChild(card);
            });
        }
        
        // --- Data Management Functions ---

        async function addReview(event) {
            event.preventDefault();
            const reviewText = document.getElementById('review-text').value;
            if (!reviewText) return;
            const user = window.currentUser;
            if (!user) {
                document.getElementById('auth-message').innerText = "Please log in to leave a review.";
                document.getElementById('auth-message').classList.remove('hidden');
                return;
            }
            
            try {
                await addDoc(collection(db, "reviews"), {
                    userEmail: user.email,
                    text: reviewText,
                    createdAt: new Date()
                });
                document.getElementById('review-text').value = '';
            } catch (error) {
                console.error("Error adding review: ", error);
            }
        }

        async function deleteReview(reviewId) {
            if (!window.currentUser || window.currentUser.role !== 'admin') return;
            if (!confirm("Are you sure you want to delete this review?")) return;
            try {
                await deleteDoc(doc(db, "reviews", reviewId));
            } catch (error) {
                console.error("Error deleting review: ", error);
            }
        }

        async function addUpdateRecipe(event) {
            event.preventDefault();
            if (!window.currentUser || window.currentUser.role !== 'admin') return;

            const id = document.getElementById('recipe-id').value;
            const name_en = document.getElementById('recipe-name-en').value;
            const name_hi = document.getElementById('recipe-name-hi').value;
            const name_mr = document.getElementById('recipe-name-mr').value;
            const targets_en = document.getElementById('recipe-targets-en').value.split(',').map(s => s.trim());
            const targets_hi = document.getElementById('recipe-targets-hi').value.split(',').map(s => s.trim());
            const targets_mr = document.getElementById('recipe-targets-mr').value.split(',').map(s => s.trim());
            const where_en = document.getElementById('recipe-where-en').value.split(',').map(s => s.trim());
            const where_hi = document.getElementById('recipe-where-hi').value.split(',').map(s => s.trim());
            const where_mr = document.getElementById('recipe-where-mr').value.split(',').map(s => s.trim());
            const ingredients_en = document.getElementById('recipe-ingredients-en').value.split(',').map(s => s.trim());
            const ingredients_hi = document.getElementById('recipe-ingredients-hi').value.split(',').map(s => s.trim());
            const ingredients_mr = document.getElementById('recipe-ingredients-mr').value.split(',').map(s => s.trim());
            const procedure_en = document.getElementById('recipe-procedure-en').value.split(',').map(s => s.trim());
            const procedure_hi = document.getElementById('recipe-procedure-hi').value.split(',').map(s => s.trim());
            const procedure_mr = document.getElementById('recipe-procedure-mr').value.split(',').map(s => s.trim());
            const usage_en = document.getElementById('recipe-usage-en').value.split(',').map(s => s.trim());
            const usage_hi = document.getElementById('recipe-usage-hi').value.split(',').map(s => s.trim());
            const usage_mr = document.getElementById('recipe-usage-mr').value.split(',').map(s => s.trim());
            const cost = parseFloat(document.getElementById('recipe-cost').value);

            if (!name_en || !name_hi || !name_mr || !targets_en || isNaN(cost)) return;

            const recipeData = {
                name: { en: name_en, hi: name_hi, mr: name_mr },
                targets: { en: targets_en, hi: targets_hi, mr: targets_mr },
                where: { en: where_en, hi: where_hi, mr: where_mr },
                ingredients: { en: ingredients_en, hi: ingredients_hi, mr: ingredients_mr },
                procedure: { en: procedure_en, hi: procedure_hi, mr: procedure_mr },
                usage: { en: usage_en, hi: usage_hi, mr: usage_mr },
                cost: cost,
            };

            try {
                if (id) {
                    await setDoc(doc(db, "recipes", id), recipeData);
                } else {
                    await addDoc(collection(db, "recipes"), recipeData);
                }
                alert('Recipe saved successfully!');
            } catch (error) {
                console.error("Error saving recipe: ", error);
                alert('Error saving recipe!');
            }
        }

        async function deleteRecipe(event) {
            event.preventDefault();
            if (!window.currentUser || window.currentUser.role !== 'admin') return;
            const id = document.getElementById('recipe-id').value;
            if (!id) return;
            if (confirm("Are you sure you want to delete this recipe?")) {
                try {
                    await deleteDoc(doc(db, "recipes", id));
                    alert('Recipe deleted!');
                } catch (error) {
                    console.error("Error deleting recipe: ", error);
                    alert('Error deleting recipe!');
                }
            }
        }

        async function addUpdateCalcData() {
            if (!window.currentUser || window.currentUser.role !== 'admin') return;

            const type = document.getElementById('calc-type-select').value;
            const key = document.getElementById('calc-key').value;
            const name_en = document.getElementById('calc-name-en').value;
            const name_hi = document.getElementById('calc-name-hi').value;
            const name_mr = document.getElementById('calc-name-mr').value;
            const amount = parseFloat(document.getElementById('calc-amount').value);

            if (!key || !name_en || !name_hi || !name_mr || isNaN(amount)) return;

            const data = {
                en: name_en,
                hi: name_hi,
                mr: name_mr,
                amount: amount
            };
            
            try {
                await setDoc(doc(db, `${type}Data`, key), data);
                alert(`${type} data saved successfully!`);
            } catch (error) {
                console.error("Error saving calculator data: ", error);
                alert("Error saving calculator data.");
            }
        }

        async function deleteCalcData() {
            if (!window.currentUser || window.currentUser.role !== 'admin') return;
            const type = document.getElementById('calc-type-select').value;
            const key = document.getElementById('calc-key').value;
            if (!key) return;
            if (confirm("Are you sure you want to delete this calculator data?")) {
                try {
                    await deleteDoc(doc(db, `${type}Data`, key));
                    alert('Data deleted!');
                } catch (error) {
                    console.error("Error deleting data: ", error);
                    alert("Error deleting data.");
                }
            }
        }

        // --- UI Logic and Initialization ---

        function filterRecipes() {
            const keyword = document.getElementById('search').value.toLowerCase();
            const lang = document.getElementById('language-selector').value;
            const filtered = recipesData.filter(r => {
                const name = r.name[lang] ? r.name[lang].toLowerCase() : '';
                const targets = r.targets[lang] ? r.targets[lang].join(' ').toLowerCase() : '';
                const where = r.where[lang] ? r.where[lang].join(' ').toLowerCase() : '';
                return name.includes(keyword) || targets.includes(keyword) || where.includes(keyword);
            });
            renderRecipes(filtered);
        }

        function updateTextContent(lang) {
            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    if (typeof translations[lang][key] === 'function') {
                        // This is for dynamic text like calculator results
                    } else {
                        element.innerHTML = translations[lang][key];
                    }
                }
            });
            
            const searchInput = document.getElementById('search');
            if(searchInput) searchInput.placeholder = translations[lang].recipes_search_placeholder;
            renderRecipes(recipesData);
            updateSeedDropdown();
            updatePesticideDropdown();
            renderReviews(reviewsData);
            renderAdminReviews();
        }

        function setLanguage(lang) {
            localStorage.setItem('language', lang);
            updateTextContent(lang);
        }

        // Initial fetch and render
        window.onload = function() {
            fetchAllData();
            updateTextContent(currentLang);
            document.getElementById('language-selector').value = currentLang;
        };

        // Expose global functions
        window.showSection = showSection;
        window.toggleNav = toggleNav;
        window.setLanguage = setLanguage;
        window.filterRecipes = filterRecipes;
        window.calculateSeeds = calculateSeeds;
        window.calculatePesticides = calculatePesticides;
        window.sendMessage = sendMessage;
        window.userLogout = userLogout;
        window.showUserLogin = showUserLogin;
        window.showAdminLogin = showAdminLogin;
        window.toggleForm = toggleForm;
        window.addReview = addReview;
        window.deleteReview = deleteReview;
        window.addUpdateRecipe = addUpdateRecipe;
        window.deleteRecipe = deleteRecipe;
        window.addUpdateCalcData = addUpdateCalcData;
        window.deleteCalcData = deleteCalcData;
        window.handleAuthSubmit = handleAuthSubmit;
        window.handleAdminLogin = handleAdminLogin;
        window.calculateSeeds = function() {
            const landSize = parseFloat(document.getElementById('land-size-seeds').value);
            const seedType = document.getElementById('seed-type').value;
            const seedDataForType = seedData[seedType];
            const resultElement = document.getElementById('seed-result');
            const lang = document.getElementById('language-selector').value;

            resultElement.classList.remove('show');
            void resultElement.offsetWidth;
            
            if (landSize && seedDataForType) {
                const requiredAmount = landSize * seedDataForType.amount;
                const seedName = seedDataForType[lang];
                resultElement.innerHTML = translations[lang].calc_seeds_result(requiredAmount, seedName, landSize);
                resultElement.classList.remove('hidden');
                resultElement.classList.add('show');
            } else {
                resultElement.innerHTML = translations[lang].calc_seeds_error;
                resultElement.classList.remove('hidden');
                resultElement.classList.add('show');
            }
        };
        window.calculatePesticides = function() {
            const landSize = parseFloat(document.getElementById('land-size-pesticide').value);
            const pesticideType = document.getElementById('pesticide-type').value;
            const pesticideDataForType = pesticideData[pesticideType];
            const resultElement = document.getElementById('pesticide-result');
            const lang = document.getElementById('language-selector').value;
            
            resultElement.classList.remove('show');
            void resultElement.offsetWidth;
            
            if (landSize && pesticideDataForType) {
                const requiredAmount = landSize * pesticideDataForType.amount;
                const pesticideName = pesticideDataForType[lang];
                resultElement.innerHTML = translations[lang].calc_pesticides_result(requiredAmount, pesticideName, landSize);
                resultElement.classList.remove('hidden');
                resultElement.classList.add('show');
            } else {
                resultElement.innerHTML = translations[lang].calc_pesticides_error;
                resultElement.classList.remove('hidden');
                resultElement.classList.add('show');
            }
        };
    </script>
</body>
</html>
